{"format_version":"0.1","terraform_version":"0.12.29","planned_values":{"root_module":{"child_modules":[{"resources":[{"address":"module.test_module.aws_api_gateway_deployment.api_gw_deploy","mode":"managed","type":"aws_api_gateway_deployment","name":"api_gw_deploy","provider_name":"aws","schema_version":0,"values":{"description":null,"rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id","stage_description":null,"stage_name":"dev","triggers":null,"variables":null}},{"address":"module.test_module.aws_api_gateway_integration.api_gw_int","mode":"managed","type":"aws_api_gateway_integration","name":"api_gw_int","provider_name":"aws","schema_version":0,"values":{"cache_key_parameters":null,"connection_id":null,"connection_type":"INTERNET","content_handling":null,"credentials":null,"http_method":"GET","integration_http_method":null,"request_parameters":null,"request_parameters_in_json":null,"request_templates":{"application/xml":"{\n   \"body\" : $input.json('$')\n}\n"},"resource_id":"module.test_module.aws_api_gateway_resource.api_gw_resource.id","rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id","timeout_milliseconds":29000,"type":"MOCK","uri":null}},{"address":"module.test_module.aws_api_gateway_method.api_gw_method","mode":"managed","type":"aws_api_gateway_method","name":"api_gw_method","provider_name":"aws","schema_version":0,"values":{"api_key_required":false,"authorization":"NONE","authorization_scopes":null,"authorizer_id":null,"http_method":"GET","request_models":null,"request_parameters":null,"request_parameters_in_json":null,"request_validator_id":null,"resource_id":"module.test_module.aws_api_gateway_resource.api_gw_resource.id","rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id"}},{"address":"module.test_module.aws_api_gateway_method_settings.api_gw_method_sett","mode":"managed","type":"aws_api_gateway_method_settings","name":"api_gw_method_sett","provider_name":"aws","schema_version":0,"values":{"method_path":"mytestresource/GET","rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id","settings":[{"cache_data_encrypted":true,"caching_enabled":true,"logging_level":"OFF"}],"stage_name":"prod"}},{"address":"module.test_module.aws_api_gateway_resource.api_gw_resource","mode":"managed","type":"aws_api_gateway_resource","name":"api_gw_resource","provider_name":"aws","schema_version":0,"values":{"parent_id":"module.test_module.aws_api_gateway_rest_api.api_gw.root_resource_id","path_part":"mytestresource","rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id"}},{"address":"module.test_module.aws_api_gateway_rest_api.api_gw","mode":"managed","type":"aws_api_gateway_rest_api","name":"api_gw","provider_name":"aws","schema_version":0,"values":{"api_key_source":"HEADER","binary_media_types":null,"body":null,"description":"API GW test","minimum_compression_size":-1,"name":"api-gw-cache-encrypted","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Action\": \"execute-api:*\",\n      \"Condition\": {\n        \"IpAddress\": {\n          \"aws:SourceIp\": \"123.123.123.123/32\"\n        }\n      }\n    }\n  ]\n}\n","tags":null}},{"address":"module.test_module.aws_api_gateway_stage.api_gw_stage","mode":"managed","type":"aws_api_gateway_stage","name":"api_gw_stage","provider_name":"aws","schema_version":0,"values":{"access_log_settings":[],"cache_cluster_enabled":null,"cache_cluster_size":null,"client_certificate_id":null,"deployment_id":"module.test_module.aws_api_gateway_deployment.api_gw_deploy.id","description":null,"documentation_version":null,"rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id","stage_name":"prod","tags":null,"variables":null,"xray_tracing_enabled":null}}],"address":"module.test_module"}]}},"resource_changes":[{"address":"module.test_module.aws_api_gateway_deployment.api_gw_deploy","module_address":"module.test_module","mode":"managed","type":"aws_api_gateway_deployment","name":"api_gw_deploy","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"description":null,"rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id","stage_description":null,"stage_name":"dev","triggers":null,"variables":null},"after_unknown":{"created_date":true,"execution_arn":true,"id":true,"invoke_url":true}}},{"address":"module.test_module.aws_api_gateway_integration.api_gw_int","module_address":"module.test_module","mode":"managed","type":"aws_api_gateway_integration","name":"api_gw_int","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"cache_key_parameters":null,"connection_id":null,"connection_type":"INTERNET","content_handling":null,"credentials":null,"http_method":"GET","integration_http_method":null,"request_parameters":null,"request_parameters_in_json":null,"request_templates":{"application/xml":"{\n   \"body\" : $input.json('$')\n}\n"},"resource_id":"module.test_module.aws_api_gateway_resource.api_gw_resource.id","rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id","timeout_milliseconds":29000,"type":"MOCK","uri":null},"after_unknown":{"cache_namespace":true,"id":true,"passthrough_behavior":true,"request_templates":{}}}},{"address":"module.test_module.aws_api_gateway_method.api_gw_method","module_address":"module.test_module","mode":"managed","type":"aws_api_gateway_method","name":"api_gw_method","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"api_key_required":false,"authorization":"NONE","authorization_scopes":null,"authorizer_id":null,"http_method":"GET","request_models":null,"request_parameters":null,"request_parameters_in_json":null,"request_validator_id":null,"resource_id":"module.test_module.aws_api_gateway_resource.api_gw_resource.id","rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id"},"after_unknown":{"id":true}}},{"address":"module.test_module.aws_api_gateway_method_settings.api_gw_method_sett","module_address":"module.test_module","mode":"managed","type":"aws_api_gateway_method_settings","name":"api_gw_method_sett","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"method_path":"mytestresource/GET","rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id","settings":[{"cache_data_encrypted":true,"caching_enabled":true,"logging_level":"OFF"}],"stage_name":"prod"},"after_unknown":{"id":true,"settings":[{"cache_ttl_in_seconds":true,"data_trace_enabled":true,"metrics_enabled":true,"require_authorization_for_cache_control":true,"throttling_burst_limit":true,"throttling_rate_limit":true,"unauthorized_cache_control_header_strategy":true}]}}},{"address":"module.test_module.aws_api_gateway_resource.api_gw_resource","module_address":"module.test_module","mode":"managed","type":"aws_api_gateway_resource","name":"api_gw_resource","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"parent_id":"module.test_module.aws_api_gateway_rest_api.api_gw.root_resource_id","path_part":"mytestresource","rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id"},"after_unknown":{"id":true,"path":true}}},{"address":"module.test_module.aws_api_gateway_rest_api.api_gw","module_address":"module.test_module","mode":"managed","type":"aws_api_gateway_rest_api","name":"api_gw","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"api_key_source":"HEADER","binary_media_types":null,"body":null,"description":"API GW test","minimum_compression_size":-1,"name":"api-gw-cache-encrypted","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Action\": \"execute-api:*\",\n      \"Condition\": {\n        \"IpAddress\": {\n          \"aws:SourceIp\": \"123.123.123.123/32\"\n        }\n      }\n    }\n  ]\n}\n","tags":null},"after_unknown":{"arn":true,"created_date":true,"endpoint_configuration":true,"execution_arn":true,"id":true,"root_resource_id":true}}},{"address":"module.test_module.aws_api_gateway_stage.api_gw_stage","module_address":"module.test_module","mode":"managed","type":"aws_api_gateway_stage","name":"api_gw_stage","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"access_log_settings":[],"cache_cluster_enabled":null,"cache_cluster_size":null,"client_certificate_id":null,"deployment_id":"module.test_module.aws_api_gateway_deployment.api_gw_deploy.id","description":null,"documentation_version":null,"rest_api_id":"module.test_module.aws_api_gateway_rest_api.api_gw.id","stage_name":"prod","tags":null,"variables":null,"xray_tracing_enabled":null},"after_unknown":{"access_log_settings":[],"arn":true,"execution_arn":true,"id":true,"invoke_url":true}}}],"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"2.70.0","expressions":{"region":{"constant_value":"us-east-1"}}},"test_module:aws":{"name":"aws","module_address":"test_module","expressions":{"region":{"constant_value":"us-east-1"}}}},"root_module":{"module_calls":{"test_module":{"source":"./rest_api_gw/not_secure_policy","module":{"resources":[{"address":"aws_api_gateway_deployment.api_gw_deploy","mode":"managed","type":"aws_api_gateway_deployment","name":"api_gw_deploy","provider_config_key":"test_module:aws","expressions":{"rest_api_id":{"references":["aws_api_gateway_rest_api.api_gw"]},"stage_name":{"constant_value":"dev"}},"schema_version":0,"depends_on":["aws_api_gateway_integration.api_gw_int"],"raw_data":{"FileName":"rest_api_gw/not_secure_policy/main.tf","StartLine":30,"EndLine":34}},{"address":"aws_api_gateway_integration.api_gw_int","mode":"managed","type":"aws_api_gateway_integration","name":"api_gw_int","provider_config_key":"test_module:aws","expressions":{"http_method":{"references":["aws_api_gateway_method.api_gw_method"]},"request_templates":{"constant_value":{"application/xml":"{\n   \"body\" : $input.json('$')\n}\n"}},"resource_id":{"references":["aws_api_gateway_resource.api_gw_resource"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.api_gw"]},"type":{"constant_value":"MOCK"}},"schema_version":0,"raw_data":{"FileName":"rest_api_gw/not_secure_policy/main.tf","StartLine":49,"EndLine":62}},{"address":"aws_api_gateway_method.api_gw_method","mode":"managed","type":"aws_api_gateway_method","name":"api_gw_method","provider_config_key":"test_module:aws","expressions":{"authorization":{"constant_value":"NONE"},"http_method":{"constant_value":"GET"},"resource_id":{"references":["aws_api_gateway_resource.api_gw_resource"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.api_gw"]}},"schema_version":0,"raw_data":{"FileName":"rest_api_gw/not_secure_policy/main.tf","StartLine":42,"EndLine":47}},{"address":"aws_api_gateway_method_settings.api_gw_method_sett","mode":"managed","type":"aws_api_gateway_method_settings","name":"api_gw_method_sett","provider_config_key":"test_module:aws","expressions":{"method_path":{"references":["aws_api_gateway_resource.api_gw_resource","aws_api_gateway_method.api_gw_method"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.api_gw"]},"settings":[{"cache_data_encrypted":{"constant_value":true},"caching_enabled":{"constant_value":true},"logging_level":{"constant_value":"OFF"}}],"stage_name":{"references":["aws_api_gateway_stage.api_gw_stage"]}},"schema_version":0,"raw_data":{"FileName":"rest_api_gw/not_secure_policy/main.tf","StartLine":70,"EndLine":80}},{"address":"aws_api_gateway_resource.api_gw_resource","mode":"managed","type":"aws_api_gateway_resource","name":"api_gw_resource","provider_config_key":"test_module:aws","expressions":{"parent_id":{"references":["aws_api_gateway_rest_api.api_gw"]},"path_part":{"constant_value":"mytestresource"},"rest_api_id":{"references":["aws_api_gateway_rest_api.api_gw"]}},"schema_version":0,"raw_data":{"FileName":"rest_api_gw/not_secure_policy/main.tf","StartLine":36,"EndLine":40}},{"address":"aws_api_gateway_rest_api.api_gw","mode":"managed","type":"aws_api_gateway_rest_api","name":"api_gw","provider_config_key":"test_module:aws","expressions":{"description":{"constant_value":"API GW test"},"name":{"constant_value":"api-gw-cache-encrypted"},"policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Action\": \"execute-api:*\",\n      \"Condition\": {\n        \"IpAddress\": {\n          \"aws:SourceIp\": \"123.123.123.123/32\"\n        }\n      }\n    }\n  ]\n}\n"}},"schema_version":0,"raw_data":{"FileName":"rest_api_gw/not_secure_policy/main.tf","StartLine":5,"EndLine":27}},{"address":"aws_api_gateway_stage.api_gw_stage","mode":"managed","type":"aws_api_gateway_stage","name":"api_gw_stage","provider_config_key":"test_module:aws","expressions":{"deployment_id":{"references":["aws_api_gateway_deployment.api_gw_deploy"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.api_gw"]},"stage_name":{"constant_value":"prod"}},"schema_version":0,"raw_data":{"FileName":"rest_api_gw/not_secure_policy/main.tf","StartLine":64,"EndLine":68}}]},"raw_data":{"FileName":"main.tf","StartLine":7,"EndLine":9}}}}}}
